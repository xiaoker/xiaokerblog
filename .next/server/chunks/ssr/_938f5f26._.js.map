{"version":3,"sources":["../../../../node_modules/%40giscus/react/dist/index.js","../../../../components/blog/CommentSection.tsx","../../../../components/blog/TableOfContents.tsx"],"sourcesContent":["import { jsx as b } from \"react/jsx-runtime\";\nimport { useState as h, useEffect as j } from \"react\";\nfunction y({ id: e, host: i, repo: o, repoId: r, category: n, categoryId: u, mapping: s, term: a, strict: d, reactionsEnabled: f, emitMetadata: m, inputPosition: c, theme: p, lang: l, loading: g }) {\n  const [t, x] = h(!1);\n  return j(() => {\n    t || import(\"./giscus-Ci9LqPcC.js\").then(() => x(!0));\n  }, []), t ? b(\"giscus-widget\", { id: e, host: i, repo: o, repoid: r, category: n, categoryid: u, mapping: s, term: a, strict: d, reactionsenabled: f, emitmetadata: m, inputposition: c, theme: p, lang: l, loading: g }) : null;\n}\nexport {\n  y as default\n};\n","\"use client\";\n\nimport Giscus from \"@giscus/react\";\nimport { useTheme } from \"next-themes\";\n\nexport function CommentSection() {\n  const { theme } = useTheme();\n\n  return (\n    <section className=\"mt-16 pt-8 border-t border-border\">\n      <h3 className=\"text-xl font-semibold mb-6\">评论</h3>\n      <Giscus\n        id=\"comments\"\n        repo=\"xiaoker/xiaokerblog\"\n        repoId=\"R_kgDOQvKniw\"\n        category=\"Announcements\"\n        categoryId=\"DIC_kwDOQvKni84C0Qq9\"\n        mapping=\"pathname\"\n        reactionsEnabled=\"1\"\n        emitMetadata=\"0\"\n        inputPosition=\"top\"\n        theme={theme === \"dark\" ? \"transparent_dark\" : \"light\"}\n        lang=\"zh-CN\"\n        loading=\"lazy\"\n      />\n    </section>\n  );\n}","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TocItem {\n  id: string;\n  text: string;\n  level: number;\n}\n\ninterface TableOfContentsProps {\n  headings: TocItem[];\n}\n\nexport function TableOfContents({ headings }: TableOfContentsProps) {\n  const [activeId, setActiveId] = useState<string>(\"\");\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setActiveId(entry.target.id);\n          }\n        });\n      },\n      { rootMargin: \"-100px 0px -66%\" }\n    );\n\n    headings.forEach((heading) => {\n      const element = document.getElementById(heading.id);\n      if (element) observer.observe(element);\n    });\n\n    return () => observer.disconnect();\n  }, [headings]);\n\n  if (headings.length === 0) return null;\n\n  return (\n    <nav className=\"sticky top-24 max-h-[calc(100vh-8rem)] overflow-auto\">\n      <h4 className=\"text-sm font-semibold mb-4\">目录</h4>\n      <ul className=\"space-y-2 text-sm\">\n        {headings.map((heading) => (\n          <li\n            key={heading.id}\n            style={{ paddingLeft: `${(heading.level - 2) * 12}px` }}\n          >\n            <a\n              href={`#${heading.id}`}\n              className={cn(\n                \"block py-1 text-muted-foreground hover:text-foreground transition-colors\",\n                activeId === heading.id && \"text-foreground font-medium\"\n              )}\n            >\n              {heading.text}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n}"],"names":[],"mappings":"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","ignoreList":[0]}